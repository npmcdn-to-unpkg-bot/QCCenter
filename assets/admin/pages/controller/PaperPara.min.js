var PaperParam=function(){function b(){var a=getRootPath(1)+"/DataInterface/Api?Author=0cf7187bf9fa92a76e26aaa380aa532b72247fd5&ID=24&M=3&t=1",b=ReadData(a);InitSelect("prod_ID",b),a=getRootPath(1)+"/DataInterface/Api?Author=0cf7187bf9fa92a76e26aaa380aa532b72247fd5&ID=23&M=3&t=1",b=ReadData(a),InitSelect("machine_ID",b),a=getRootPath(1)+"/DataInterface/Api?Author=0cf7187bf9fa92a76e26aaa380aa532b72247fd5&ID=25&M=3&t=1",b=ReadData(a),InitSelect("oper_ID",b)}function c(){var a=(new Date).getHours();a>=0&&8>a?SetRadioChecked("class_ID",2):a>=8&&16>a?SetRadioChecked("class_ID",0):SetRadioChecked("class_ID",1)}function d(){return""===$('select[name="oper_ID"]').val()||""===$('select[name="prod_ID"]').val()||""===$('select[name="machine_ID"]').val()?($(".portlet.light").hide(),1):($(".portlet.light").show(),0)}function e(){var a=$("input[name='rec_date']").val();a=a.substr(6,4)+a.substr(0,2);var b=$('select[name="prod_ID"]').val(),c=getRootPath(1)+"/DataInterface/Api?Author=0cf7187bf9fa92a76e26aaa380aa532b72247fd5&ID=27&M=3&tmonth="+a+"&prod="+b,d=ReadData(c);c=getRootPath(1)+"/DataInterface/Api?Author=0cf7187bf9fa92a76e26aaa380aa532b72247fd5&ID=28&M=3&tmonth="+a+"&prod="+b;var e=ReadData(c);$(".grey-cascade").html("\u7269\u7406\u6307\u6807\u5f97\u5206\uff1a"+d.data[0][0]+"\uff0c\u5916\u89c2\u6307\u6807\u5f97\u5206\uff1a"+e.data[0][0])}var a=function(){jQuery().datepicker&&$(".date-picker").datepicker({rtl:Metronic.isRTL(),orientation:"left",autoclose:!0})};return $('select[name="oper_ID"]').change(function(){d()||e()}),$('select[name="machine_ID"]').change(function(){d()||e(),c()}),$('select[name="prod_ID"]').change(function(){return d()?void $(".grey-cascade").html(""):void e()}),{init:function(){$(".portlet.light").hide(),a(),b(),c(),$("form[name=theForm]").submit(function(){var a={url:getRootUrl("PaperPara")+"insert",type:"post",resetForm:!0,beforeSubmit:function(a,b,c){var d=!0,e="\u4ee5\u4e0b\u68c0\u6d4b\u9879\u76f8\u5173\u4fe1\u606f:</br>";return a.map(function(a){""===a.value&&"remark"!==a.name&&(e+=$('input[name="'+a.name+'"]').parent().find("label").text()+"\u3001",d=!1)}),d||infoTips("\u8bf7\u8f93\u5165"+e,2),d},data:{tbl:"0",class_ID:GetRadioChecked("class_ID")},success:function(a){var b=$.parseJSON(a);infoTips(b.message,b.type),$('button[type="reset"]').click(),$(".portlet.light").hide()},error:function(a){infoTips(JSON.stringify(a))}};return $(this).ajaxSubmit(a),!1})}}}();