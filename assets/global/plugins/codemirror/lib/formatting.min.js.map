{"version":3,"file":"formatting.min.js","sources":["formatting.js"],"names":["jsNonBreakableBlocks","text","nonBreakableRegexes","nonBreakableBlocks","i","length","curPos","m","substr","match","push","start","index","end","Math","max","sort","a","b","localModeAt","cm","pos","CodeMirror","innerMode","getMode","getTokenAt","state","mode","enumerateModesBetween","line","outer","getLine","from","to","ch","found","stream","StringStream","token","curMode","cut","name","charAt","extendMode","commentStart","commentEnd","wordWrapChars","autoFormatLineBreaks","replace","RegExp","split","this","jsonMode","str","res","substring","lines","reProcessedPortion","reOpenBrackets","reCloseBrackets","mToProcess","join","defineExtension","isComment","operation","replaceRange","setCursor","selText","getRange","startIndex","indexOf","endIndex","lastIndexOf","cmInstance","indentLine","cur","f","t","modes","mangled","part","slice","count","setSelection","getCursor"],"mappings":"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","sourceRoot":"./"}