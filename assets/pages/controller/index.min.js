var Index=function(){var t=function(){$(".theme-panel").hide(),hideSidebarTool()},e=function(t,e){$().counterUp&&t.counterUp({delay:10,time:e})},a=(function(){var t=getRootPath(1)+"/DataInterface/Api?Token=79d84495ca776ccb523114a2120e273ca80b315b&ID=168&M=3",a=ReadData(t);a.data[0].map(function(t,e){$(".dashboard-stat .number:nth("+e+")").attr("data-value",data2ThousandSeparator(t)).text(data2ThousandSeparator(t))}),e($(".top-info .number"),800)}(),function(){function t(t){var e=getRootPath(1)+"/DataInterface/Api?Token=79d84495ca776ccb523114a2120e273ca80b315b&ID="+t+"&M=3",i=ReadData(e),o="";return i.data.map(function(t){var e=t[0];o+='\n<div class="col-md-2 col-sm-2 col-xs-6"><div class="'+a[e]+' font-sm">'+e+"</div>",o+='			<div class="uppercase font-hg '+a[e]+'"><span class="number" data-counter="counterup" data-value='+t[1]+">"+t[1],o+='</span><span class="font-lg font-grey-mint">%</span>',o+="			</div></div>"}),0==i.rows&&(o='<h3 style="padding-left:20px;height:20px;">对应时间无质量信息</h3>'),o}var a={"9602A":"font-green-jungle","103-G-2A":"font-green-jungle","9603A":"font-purple","103-G-3A":"font-purple","9604A":"font-blue","103-G-4A":"font-blue","9606A":"font-green-seagreen","103-G-6A":"font-green-seagreen","9607T":"font-red-flamingo","103-G-7T":"font-red-flamingo"};$('[name="hisQuality"] label').on("click",function(){$('[name="hisQuality"] .list-separated').html(i[$(this).data("id")]),e($('[name="hisQuality"] .number'),300)});for(var i=[],o=0;3>o;o++)i[o]=t(o+169);!function(){$('[name="hisQuality"] .list-separated').html(i[0]),e($('[name="hisQuality"] .number'),300)}(),function(){var t=getRootPath(1)+"/DataInterface/Api?Token=79d84495ca776ccb523114a2120e273ca80b315b&ID=172&M=0",e=ReadData(t),a={element:"passed_a_year_quality_static",padding:0,behaveLikeLine:!1,gridEnabled:!1,gridLineColor:!1,axes:!1,fillOpacity:1,ymin:70,data:e.data,lineColors:["#399a8c"],xkey:e.header[0].title,ykeys:[e.header[1].title],labels:[e.header[1].title],pointSize:0,lineWidth:0,hideHover:"auto",resize:!0};Morris.EventEmitter&&(n=Morris.Area(a))}()}),i=function(){return{initDashboardWidget:function(){$('.task-list input[type="checkbox"]').change(function(){$(this).is(":checked")?$(this).parents("li").addClass("task-done"):$(this).parents("li").removeClass("task-done")}),$(".task-list").on("click",".complete,.task-checkbox,.liChild,.task-title",function(){{var t=$(this).parent().find(".liChild"),e=$(this).parents("li");t.val()}t.parent().hasClass("checked")?(e.removeClass("task-done"),t.parent().removeClass("checked"),bsTips("任务标记为未完成，请在后台更新数据",2)):(e.addClass("task-done"),t.parent().addClass("checked"),bsTips("任务标记为已完成，请在后台更新数据",2))}),$(".task-list").on("click",".del",function(){$(this).parents("li").remove();bsTips("任务成功删除，请在后台更新数据",2)})}}}(),o=function(){function t(t,e,a,i){$('<div id="tooltip" class="chart-tooltip">'+i+"</div>").css({position:"absolute",display:"none",top:e-40,left:t-40,border:"0px solid #ccc",padding:"2px 6px","background-color":"#fff",background:"#fff"}).appendTo("body").fadeIn(200)}function e(e,a,o,n,l){if(n=n||0,$("#x").text(e.x.toFixed(n)),$("#y").text(e.y.toFixed(n)),a){if(i!=a.dataIndex){i=a.dataIndex,previousSeries=a.seriesIndex-1,$("#tooltip").remove();var r,s=(a.datapoint[0].toFixed(n),a.datapoint[1].toFixed(n),a.series.data[a.datapoint[0]][0]),d=0;"undefined"==typeof l?r=s+" : "+a.datapoint[1].toFixed(n)+" "+o:(r='<span class="caption-subject">'+s+"</span><br>"+l[previousSeries].label.trim()+" : "+a.datapoint[1].toFixed(0)+" "+o,d=22),t(a.pageX+10,a.pageY-d,a.datapoint[0],r)}}else $("#tooltip").remove(),i=null}{var a,i=null,o=function(){var t=getRootPath(1)+"/DataInterface/Api?Token=79d84495ca776ccb523114a2120e273ca80b315b&ID=173&M=3",e=ReadData(t);a={hardDisk:[],sqlSvr:[],data_uploads:[],realQuality:[]},e.data.map(function(t){a.hardDisk.push([t[0],t[2]]),a.sqlSvr.push([t[0],Number.parseFloat(t[3].replace("MB",""))/1e3]),a.data_uploads.push([t[0],t[4]]),5!=t[5]&&a.realQuality.push([t[0],t[1]])})};!function(){function t(){return o(),a.realQuality}function i(t,e){e=e||0;var a=e?"#f89f9f":"#893a7c";return[{data:t,lines:{fill:.9,lineWidth:0},color:[a]},{data:t,yaxis:1,points:{show:!0,fill:!0,radius:5,fillColor:a,lineWidth:3},color:"#fff",shadowSize:0}]}$("#real_quality_loading").hide(),$("#real_quality_content").show();var n,l=0,r=t(),s=function(t){var e=getRootPath(1)+"/DataInterface/Api?Token=79d84495ca776ccb523114a2120e273ca80b315b&ID=174&M=3&machine="+t,a=ReadData(e);return i(a.data,1)},d={xaxis:{tickLength:0,tickDecimals:0,mode:"categories",min:0,font:{lineHeight:14,style:"normal",variant:"small-caps",color:"#6F7B8A"},show:!1},yaxis:{ticks:5,tickDecimals:0,tickColor:"#eee",min:50,max:100,font:{lineHeight:14,style:"normal",variant:"small-caps",color:"#6F7B8A"}},grid:{hoverable:!0,clickable:!0,tickColor:"#eee",borderColor:"#eee",borderWidth:1},legend:{show:!1}};$("#real_quality_statistics").bind("plothover",function(t,a,i){e(a,i,"%",2)}),$("#real_quality_statistics").bind("plotclick",function(t,e,a){var i;l?(i=n[0].data[a.dataIndex][0],bsTips("车号追溯功能加入后跳转至"+i+"详细信息",2)):(i=r[a.dataIndex][0],$('[name="curQuality_title"]').text(i),n=s(i),$.plot($("#real_quality_statistics"),n,d),l++)}),$('[name="curQuality"]').on("click",function(){$.plot($("#real_quality_statistics"),i(r),d),$('[name="curQuality_title"]').text("实时质量"),l=0}),$('[name="curQuality"]').click()}(),function(){function t(t,e){return[{data:e,yaxis:1,lines:{fill:.6,lineWidth:0},color:["#f89f9f"],label:"&nbsp;数据库大小&nbsp;"},{data:e,yaxis:1,points:{show:!0,fill:!0,radius:5,fillColor:"#f89f9f",lineWidth:3},color:"#fff",shadowSize:0},{data:t,yaxis:2,lines:{fill:.6,lineWidth:0},color:["#92e9dc"],label:"&nbsp;硬盘可用量&nbsp;"},{data:t,yaxis:2,points:{show:!0,fill:!0,radius:5,fillColor:"#92e9dc",lineWidth:3},color:"#fff",shadowSize:0}]}function i(t){return[{data:t,lines:{fill:.3,lineWidth:0},color:["#BAD9F5"]},{data:t,points:{show:!0,fill:!0,radius:4,fillColor:"#9ACAE6",lineWidth:2},color:"#9ACAE6",shadowSize:1,label:"数据上传"},{data:t,lines:{show:!0,fill:!1,lineWidth:3},color:"#9ACAE6",shadowSize:0}]}if(jQuery.plot){var o=t(a.hardDisk,a.sqlSvr),n=i(a.data_uploads);if(0!==$("#site_statistics").size()){$("#site_statistics_loading").hide(),$("#site_statistics_content").show();{$.plot($("#site_statistics"),o,{xaxis:{tickLength:0,tickDecimals:0,mode:"categories",min:0,font:{lineHeight:14,style:"normal",variant:"small-caps",color:"#6F7B8A"},show:!1},yaxes:[{ticks:5,tickDecimals:0,tickColor:"#eee",min:0,font:{lineHeight:14,style:"normal",variant:"small-caps",color:"#6F7B8A"}},{ticks:5,tickDecimals:0,tickColor:"#eee",position:"right",font:{lineHeight:14,style:"normal",variant:"small-caps",color:"#6F7B8A"}}],grid:{hoverable:!0,clickable:!0,tickColor:"#eee",borderColor:"#eee",borderWidth:1},legend:{show:!0,noColumns:!1,container:"#site_statistics_legend"}})}$("#site_statistics").bind("plothover",function(t,a,i){e(a,i,"GB",0,o)})}if(0!==$("#data_upload").size()){$("#data_upload_loading").hide(),$("#data_upload_content").show();{$.plot($("#data_upload"),n,{xaxis:{tickLength:0,tickDecimals:0,mode:"categories",min:0,font:{lineHeight:18,style:"normal",variant:"small-caps",color:"#6F7B8A"},show:!1},yaxis:{ticks:5,tickDecimals:0,tickColor:"#eee",font:{lineHeight:14,style:"normal",variant:"small-caps",color:"#6F7B8A"},max:20},grid:{hoverable:!0,clickable:!0,tickColor:"#eee",borderColor:"#eee",borderWidth:1},legend:{show:!1,noColumns:!1,container:"#data_upload_legend"}})}$("#data_upload").bind("plothover",function(t,a,i){e(a,i,"车")}),$("#data_upload").bind("mouseleave",function(){$("#tooltip").remove()})}}}()}},n=null;redrawCharts=function(){n.resizeHandler()},initMiniCharts=function(){App.isIE8()&&!Function.prototype.bind&&(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),a=this,i=function(){},o=function(){return a.apply(this instanceof i&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,o.prototype=new i,o}),$("#sparkline_bar").sparkline([8,9,10,11,10,10,12,10,10,11,9,12,11],{type:"bar",width:"100",barWidth:6,height:"45",barColor:"#F36A5B",negBarColor:"#e02222"}),$("#sparkline_bar2").sparkline([9,11,12,13,12,13,10,14,13,11,11,12,11],{type:"bar",width:"100",barWidth:6,height:"45",barColor:"#5C9BD1",negBarColor:"#e02222"})};var l=function(){function t(t,e,a,i){$('<div id="tooltip" class="chart-tooltip">'+i.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")+"USD</div>").css({position:"absolute",display:"none",top:e-40,left:t-60,border:"0px solid #ccc",padding:"2px 6px","background-color":"#fff"}).appendTo("body").fadeIn(200)}var e=function(){var t=getRootPath(1)+"/DataInterface/Api?Token=79d84495ca776ccb523114a2120e273ca80b315b&ID=175&M=0",e=ReadData(t),a={element:"noteAnany_static",padding:0,behaveLikeLine:!1,gridEnabled:!1,gridLineColor:!1,axes:!1,fillOpacity:1,stacked:0,ymin:70,data:e.data,xkey:e.header[0].title,ykeys:[e.header[1].title,e.header[2].title,e.header[3].title],labels:[e.header[1].title,e.header[2].title,e.header[3].title],pointSize:0,lineWidth:0,hideHover:"auto",resize:!0};Morris.EventEmitter&&(n=Morris.Area(a))},a=function(){var e=[["01/2013",10],["02/2013",0],["03/2013",10],["04/2013",12],["05/2013",212],["06/2013",324],["07/2013",122],["08/2013",136],["09/2013",250],["10/2013",99],["11/2013",190]],a=($.plot($("#statistics_2"),[{data:e,bars:{show:!0,barWidth:.4,lineWidth:2,lineColors:["#08a3cc"],align:"center",fill:.8},color:["#BAD9F5"],label:"data2"}],{xaxis:{tickLength:0,tickDecimals:0,mode:"categories",min:2,font:{lineHeight:14,style:"normal",variant:"small-caps",color:"#6F7B8A"}},yaxis:{ticks:3,tickDecimals:0,tickColor:"#f0f0f0",font:{lineHeight:14,style:"normal",variant:"small-caps",color:"#6F7B8A"}},grid:{backgroundColor:{colors:["#fff","#fff"]},borderWidth:1,borderColor:"#f0f0f0",margin:0,minBorderMargin:0,labelMargin:20,hoverable:!0,clickable:!0,mouseActiveRadius:6},legend:{show:!0}}),null);$("#statistics_2").bind("plothover",function(e,i,o){if($("#x").text(i.x.toFixed(2)),$("#y").text(i.y.toFixed(2)),o){if(a!=o.dataIndex){a=o.dataIndex,$("#tooltip").remove();{o.datapoint[0].toFixed(2),o.datapoint[1].toFixed(2)}t(o.pageX,o.pageY,o.datapoint[0],o.datapoint[1])}}else $("#tooltip").remove(),a=null})};return{init:function(){e(),$("#statistics_orders_tab").on("shown.bs.tab",function(){a()})}}}();return{init:function(){t(),a(),o(),l.init(),i.initDashboardWidget(),initMiniCharts(),bsTips("本页功能尚未添加",1)}}}();jQuery(document).ready(function(){UIIdleTimeout.init(),initDom(),Index.init()}),jQuery(window).resize(function(){HeadFix()});
//# sourceMappingURL=index.min.js.map