var FormWizard=function(){return{init:function(){if(jQuery().bootstrapWizard){var t=$("#submit_form"),e=$(".alert-danger",t),a=$(".alert-success",t);t.validate({doNotHideMessage:!0,errorElement:"span",errorClass:"help-block help-block-error",focusInvalid:!1,rules:{select_cat:{required:!0},select_name:{required:!0}},errorPlacement:function(t,e){t.insertAfter("gender"==e.attr("name")?"#form_gender_error":"payment[]"==e.attr("name")?"#form_payment_error":e)},invalidHandler:function(){bsTips("请检查输入数据的有效性")},highlight:function(t){$(t).closest(".form-group").removeClass("has-success").addClass("has-error")},unhighlight:function(t){$(t).closest(".form-group").removeClass("has-error")},success:function(t){"gender"==t.attr("for")||"payment[]"==t.attr("for")?(t.closest(".form-group").removeClass("has-error").addClass("has-success"),t.remove()):t.addClass("valid").closest(".form-group").removeClass("has-error").addClass("has-success")},submitHandler:function(){bsTips("数据有效性校验通过")}});var n=function(t,e,a){var n=e.find("li").length,o=a+1;$(".step-title",$("#form_wizard_1")).text("第 "+(a+1)+" 步，共 "+n+" 步"),jQuery("li",$("#form_wizard_1")).removeClass("done");for(var i=e.find("li"),r=0;a>r;r++)jQuery(i[r]).addClass("done");switch(o){case 1:$("#form_wizard_1").find(".button-previous").hide(),$("#form_wizard_1").find(".button-next").show(),$(".mt-step-col:nth(0)").removeClass("done").addClass("active"),$(".mt-step-col:nth(1)").removeClass("active").removeClass("done");break;case 2:$(".mt-step-col:nth(1)").addClass("active"),$(".mt-step-col").first().removeClass("active"),$(".mt-step-col").first().addClass("done"),$("#form_wizard_1").find(".button-submit").hide(),$("#form_wizard_1").find(".button-previous").show(),$("#form_wizard_1").find(".button-next").show(),$(".mt-step-col:nth(2)").removeClass("active").removeClass("done");break;case 3:$("#form_wizard_1").find(".button-next").hide(),$("#form_wizard_1").find(".button-submit").show(),$(".mt-step-col:nth(1)").removeClass("active"),$(".mt-step-col:nth(1)").addClass("done"),$(".mt-step-col").last().addClass("active");var s,l,c=parseInt($("select[name='select_name'] option").last().val(),10)+1,d=$('#tab2 input[name="addInfo"]').length,u="",p="";for(r=0;d>r;r++)s=$('#tab2 input[name="addInfo"]:nth('+r+")").val(),val=r+c,l=r+1,u+='<div class="form-group">',u+='    <label class="control-label col-md-3">'+l+"</label>",u+='           <div class="col-md-2">',u+='              <p class="form-control-static">'+val+"</p>",u+="           </div>",u+='           <div class="col-md-3">',u+='              <p class="form-control-static">'+s+"</p>",u+="            </div>",u+="</div>",p+='<option value="'+val+'">'+s+"</option>";d&&($("select[name='preview']").append(p),$("#tab3").last().append(u))}App.scrollTo($(".page-title"))};$("#form_wizard_1").bootstrapWizard({nextSelector:".button-next",previousSelector:".button-previous",onTabClick:function(o,i,r,s){return a.hide(),e.hide(),t.valid()===!1?!1:void n(o,i,s)},onNext:function(o,i,r){return a.hide(),e.hide(),t.valid()===!1?!1:void n(o,i,r)},onPrevious:function(t,o,i){a.hide(),e.hide(),n(t,o,i)},onTabShow:function(t,e,a){var n=e.find("li").length,o=a+1,i=o/n*100;$("#form_wizard_1").find(".progress-bar").css({width:i+"%"})}}),$("#form_wizard_1").find(".button-previous").hide(),$("#form_wizard_1 .button-submit").click(function(){bsTips("Finished! Hope you like it :)",1)}).hide(),$("#country_list",t).change(function(){t.validate().element($(this))})}}}}(),handleSelect2=function(){function t(){var t=getRootPath(1)+"/DataInterface/Api?Token=79d84495ca776ccb523114a2120e273ca80b315b&ID=34&M=3",e=ReadData(t);InitSelect("select_cat",e);var a=1;e.data.map(function(t){$("select[name='select_cat'] option:nth("+a+")").attr("data-apiUrl",t[2]),$("select[name='select_cat'] option:nth("+a+")").attr("data-tblID",t[3]),a++})}return $(document).on("change",'select[name="select_cat"]',function(){var t=getRootPath(1)+"/"+$(this).find("option:selected").attr("data-apiUrl"),e=getRootPath(1)+"/"+$(this).find("option:selected").attr("data-tblID"),a=ReadData(t),n=$(this).find("option:selected").text();InitSelect("select_name",a),InitSelect("preview",a),$("select[name='select_name']").attr("data-tblID",e),$('span[name="selectName"]').text(n),$('#tab3 p[data-display="select_cat"]').text(n),$("a.button-next").click()}),$("#tab2 a.btn-circle:nth(0)").on("click",function(){var t='<div class="form-group">';t+='    <label class="control-label col-md-3">待增加项',t+='         <span class="required"> * </span>',t+="     </label>",t+='     <div class="col-md-4">',t+='         <input type="text" class="form-control" name="addInfo"/>',t+='         <span class="help-block"> 输入待增加项信息 </span>',t+="     </div>",t+='     <a href="javascript:;" class="btn btn-circle btn-icon-only red">',t+='         <i class="fa fa-minus"></i>',t+="     </a>",t+=" </div>",$("#tab2").append(t)}),$(document).on("click","#tab2 a.btn-circle:gt(0)",function(){$(this).parent().remove()}),{init:function(){t()}}}(),Profile=function(){return{init:function(){Profile.initMiniCharts()},initMiniCharts:function(){App.isIE8()&&!Function.prototype.bind&&(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),a=this,n=function(){},o=function(){return a.apply(this instanceof n&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,o.prototype=new n,o})}}}();jQuery(document).ready(function(){initDom(),FormWizard.init(),Profile.init(),handleSelect2.init()}),jQuery(window).resize(function(){HeadFix()});
//# sourceMappingURL=settings.min.js.map