<<<<<<< HEAD
function GetJsonUrl(e){var t=getDateRange(),a=getRootPath()+"/DataInterface/Api?Token=79d84495ca776ccb523114a2120e273ca80b315b&ID="+e+"&M=3&tstart="+t.start+"&tend="+t.end+"&tstart2="+t.start+"&tend2="+t.end+"&t="+Math.random();return a}$("#HideTips").on("click",function(){$(".mt-element-ribbon").addClass("hide")});var mECharts=function(){function e(){require.config({baseUrl:"assets/global/plugins/echarts/",paths:{theme:"theme",echarts:"js/echarts.min",chartDataTool:"js/extension/chartDataTool.min"}}),require(["echarts","chartDataTool"],function(e,r){var n;c=e,h=r,"undefined"==typeof localStorage.eChartsTheme?(n="real2",localStorage.setItem("eChartsTheme","real2")):n=localStorage.eChartsTheme,require(["theme/"+n],function(e){d=e,t(),a(d)})})}function t(){var e=$(".portlet-body.form");for(i=0;i<g;i++){var t='<div id="eChart-main'+i+'" optionKey="Line" class="eCharts-main margin-top-5"></div>';e.append(t)}var a=$(".eCharts-main"),r=e.width(),n=r/(1===a.length?1.3:1.5);a.css("width",r),a.css("height",n)}function a(e){if(g&&c){var t,a={},r={id:getUrlParam("tid").split(","),type:null===getUrlParam("type")?["line"]:getUrlParam("type").split(","),smooth:null===getUrlParam("smooth")?["1"]:getUrlParam("smooth").split(","),markLine:null===getUrlParam("markline")?["0"]:getUrlParam("markline").split(","),markPoint:null===getUrlParam("markpoint")?["0"]:getUrlParam("markpoint").split(","),barMaxWidth:null===getUrlParam("barwidth")?["0"]:getUrlParam("barwidth").split(","),splitArea:null===getUrlParam("splitarea")?["0"]:getUrlParam("splitarea").split(","),dataZoom:null===getUrlParam("zoom")?["0"]:getUrlParam("zoom").split(","),minMax:null===getUrlParam("minmax")?["0"]:getUrlParam("minmax").split(","),lineAreaStyle:null===getUrlParam("linearea")?["0"]:getUrlParam("linearea").split(","),reverse:null===getUrlParam("reverse")?["0"]:getUrlParam("reverse").split(","),circle:null===getUrlParam("circle")?["0"]:getUrlParam("circle").split(","),roseType:null===getUrlParam("rose")?["0"]:getUrlParam("rose").split(","),dimension:null===getUrlParam("dimension")?["0"]:getUrlParam("dimension").split(","),squareRatio:null===getUrlParam("squareratio")?["1.618"]:getUrlParam("squareratio").split(","),shape:null===getUrlParam("shape")?["polygon"]:getUrlParam("shape").split(","),scatterSize:null===getUrlParam("scattersize")?["20"]:getUrlParam("scattersize").split(","),force:null===getUrlParam("force")?["1"]:getUrlParam("force").split(",")};for(t=0;g>t;t++){if(a={url:GetJsonUrl(r.id[t]),type:handleParam(r.type,t,"line"),smooth:"1"===handleParam(r.smooth,t,"1")?!0:!1,blind:"0"===getUrlParam("blind")||null===getUrlParam("blind")?!1:!0,toolbox:!0,markLine:"1"===handleParam(r.markLine,t,"0")?!0:!1,markPoint:"1"===handleParam(r.markPoint,t,"0")?!0:!1,barMaxWidth:"1"===handleParam(r.barMaxWidth,t,"0")?!0:!1,splitArea:"1"===handleParam(r.splitArea,t,"0")?!0:!1,dataZoom:handleParam(r.dataZoom,t,"0"),minMax:"1"===handleParam(r.minMax,t,"0")?!0:!1,lineAreaStyle:"1"===handleParam(r.lineAreaStyle,t,"0")?!0:!1,reverse:"1"===handleParam(r.reverse,t,"0")?!0:!1,circle:"1"===handleParam(r.circle,t,"1")?!0:!1,roseType:handleParam(r.roseType,t,"0"),dimension:Number.parseInt(handleParam(r.dimension,t,"1"),10)-1,squareRatio:Number.parseFloat(handleParam(r.squareRatio,t,"1.618")),shape:handleParam(r.shape,t,"polygon"),scatterSize:Number.parseFloat(handleParam(r.scatterSize,t,"20")),force:handleParam(r.force,t,"1")},"sankey"==a.type){var i=$("#eChart-main"+t),l=$(".portlet-body.form").width(),o=l/1.5;i.css("height",o)}"undefined"!=typeof e.valueAxis?e.valueAxis.splitArea.show=a.splitArea[t]?!0:!1:e.color=["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],a.color=e.color,p=h.getOption(a),p!==!1?(u[t]=c.init(document.getElementById("eChart-main"+t),e),u[t].setOption(p)):bsTips("第"+(t+1)+"张图表无数据，请重新选择查询时间",2)}a.blind&&n()}}function r(){if($(".actions select opotion").length)return!1;var e,t=$(".actions select"),a="",r=["default","real2","real","powerBI","darkColor","whiteDark","magzin","magzin2","colorful","macarons","helianthus","infographic","shine","dark","blue","green","red","gray","roma","macarons2","sakura"];r.map(function(e){a+='<option name="'+e+'">'+e+"</option>"}),t.html(a),"undefined"==typeof localStorage.eChartsTheme?(e="real2",localStorage.setItem("eChartsTheme","real2")):e=localStorage.eChartsTheme,t.find('[name="'+e+'"]').attr("selected",!0),$(".bs-select").selectpicker({iconBase:"fa",tickIcon:"fa-check"}),$("select.bs-select").hide()}function n(){for(var e=[],t=0;g>t;t++)e.push(u[t]);c.connect(e)}function l(e){localStorage.setItem("eChartsTheme",e),bsTips("主题更换成功，请刷新页面查看",1)}function o(){var e=$(".actions select");e&&$(e).change(function(){l($(this).val())})}function s(){var e='<!DOCTYPE html>\n<html style="height: 100%">\n   <head>\n       <meta charset="utf-8">\n   </head>\n   <body style="height: 100%; margin: 0" onresize = "resize()">\n       <div id="container" style="height: 100%"></div>\n       <script type="text/javascript" src="'+getRootPath(1)+'/assets/global/plugins/echarts/js/echarts.min.js"></script>\n       <script type="text/javascript">\nvar dom = document.getElementById("container");\nvar theme = '+JSON.stringify(d)+";\nvar myChart = echarts.init(dom,theme);\nvar app = {};\noption = null;\noption = "+JSON.stringify(p)+'\nif (option && typeof option === "object") {\n    var startTime = +new Date();\n    myChart.setOption(option,true);\n    var endTime = +new Date();\n    var updateTime = endTime - startTime;\n    console.log("Time used:", updateTime);\n}\nfunction resize(){\n    myChart.resize();\n}       </script>\n   </body>\n</html>',t=new Blob([e],{type:"text/html;charset=UTF-8",encoding:"UTF-8"}),a=document.createElement("a");a.href=URL.createObjectURL(t),a.download=p.title[0].text+".html",a.click()}function m(){var e='<!DOCTYPE html>\n<html style="height: 100%">\n   <head>\n       <meta charset="utf-8">\n   </head>\n   <body style="height: 100%; margin: 0" onresize = "resize()">\n       <div id="container" style="height: 100%"></div>\n       <script type="text/javascript" src="'+getRootPath(1)+'/assets/global/plugins/echarts/js/echarts.min.js"></script>\n       <script type="text/javascript">\nvar dom = document.getElementById("container");\nvar theme = '+JSON.stringify(d)+";\nvar myChart = echarts.init(dom,theme);\nvar app = {};\noption = null;\noption = "+JSON.stringify(p)+'\nif (option && typeof option === "object") {\n    var startTime = +new Date();\n    myChart.setOption(option,true);\n    var endTime = +new Date();\n    var updateTime = endTime - startTime;\n    console.log("Time used:", updateTime);\n}\nfunction resize(){\n    myChart.resize();\n}       </script>\n   </body>\n</html>',t=$.base64.encode((new Date).getTime());$("#share textarea").text(" "),$.ajax({url:getRootPath(0)+"/demo/chartShare.php",type:"POST",data:{filename:t+".html",contents:e},success:function(e){var t=$.parseJSON(e),a=getRootPath(0)+t.url;$("#share textarea").text(a),$("#successShare").click(),setTimeout(function(){$("#share textarea").select()},600)},error:function(e){var t=$.parseJSON(e);bsTips("图表分享失败，请稍后重试",t.status)}})}var c,h,d,p,u=[],g=null===getUrlParam("tid")?0:getUrlParam("tid").split(",").length;return $(document).on("click",".ranges li:not(:last),button.applyBtn",function(){var e;e=$(".actions select"),require(["theme/"+e.val()],function(e){d=e,setTimeout(a(d),500)})}),$("#Preview a").on("click",function(){var e=$("#Preview input").val(),t=$(".actions select");require(["theme/"+t.val()],function(t){d=t,setTimeout(a(d,e+"&chartType=line"),500)})}),$('[name="shareExample"]').on("click",function(){m()}),$('[name="downloadExample"]').on("click",function(){s()}),{init:function(){r(),e(),o()},resize:function(){var e=$(".portlet-body.form"),t=$(".eCharts-main"),a=e.width(),r=a/(1===t.length?2:2.5);for(t.css("width",a).css("height",r),i=0;i<g;i++)u[i].resize()}}}();jQuery(document).ready(function(){initDashboardDaterange("YYYYMMDD"),initDom(),mECharts.init(),1==App.getURLParameter("debug")||null===App.getURLParameter("tid")?$("#Preview").show():$("#Preview").hide(),hideSidebarTool()}),jQuery(window).resize(function(){HeadFix(),mECharts.resize()});
=======
function GetJsonUrl(e){var a=getDateRange(),r=getRootPath()+"/DataInterface/Api?Token=79d84495ca776ccb523114a2120e273ca80b315b&ID="+e+"&M=3&tstart="+a.start+"&tend="+a.end+"&tstart2="+a.start+"&tend2="+a.end+"&t="+Math.random();return r}$("#HideTips").on("click",function(){$(".mt-element-ribbon").addClass("hide")});var mECharts=function(){function e(){require.config({baseUrl:"assets/global/plugins/echarts/",paths:{theme:"theme",echarts:"js/echarts.min",chartDataTool:"js/extension/chartDataTool.min"}}),require(["echarts","chartDataTool"],function(e,t){var l;s=e,m=t,"undefined"==typeof localStorage.eChartsTheme?(l="real2",localStorage.setItem("eChartsTheme","real2")):l=localStorage.eChartsTheme,require(["theme/"+l],function(e){c=e,a(),r(c)})})}function a(){var e=$(".portlet-body.form");for(i=0;i<d;i++){var a='<div id="eChart-main'+i+'" optionKey="Line" class="eCharts-main margin-top-5"></div>';e.append(a)}var r=$(".eCharts-main"),t=e.width(),l=t/(1===r.length?1.3:1.5);r.css("width",t),r.css("height",l)}function r(e,a){if(d&&s){var r,t,i={},n={id:getUrlParam("tid").split(","),type:null===getUrlParam("type")?["line"]:getUrlParam("type").split(","),smooth:null===getUrlParam("smooth")?["1"]:getUrlParam("smooth").split(","),markLine:null===getUrlParam("markline")?["0"]:getUrlParam("markline").split(","),markPoint:null===getUrlParam("markpoint")?["0"]:getUrlParam("markpoint").split(","),barMaxWidth:null===getUrlParam("barwidth")?["0"]:getUrlParam("barwidth").split(","),splitArea:null===getUrlParam("splitarea")?["0"]:getUrlParam("splitarea").split(","),dataZoom:null===getUrlParam("zoom")?["0"]:getUrlParam("zoom").split(","),minMax:null===getUrlParam("minmax")?["0"]:getUrlParam("minmax").split(","),lineAreaStyle:null===getUrlParam("linearea")?["0"]:getUrlParam("linearea").split(","),reverse:null===getUrlParam("reverse")?["0"]:getUrlParam("reverse").split(","),circle:null===getUrlParam("circle")?["0"]:getUrlParam("circle").split(","),roseType:null===getUrlParam("rose")?["0"]:getUrlParam("rose").split(","),dimension:null===getUrlParam("dimension")?["0"]:getUrlParam("dimension").split(","),squareRatio:null===getUrlParam("squareratio")?["1.618"]:getUrlParam("squareratio").split(","),shape:null===getUrlParam("shape")?["polygon"]:getUrlParam("shape").split(","),scatterSize:null===getUrlParam("scattersize")?["20"]:getUrlParam("scattersize").split(","),force:null===getUrlParam("force")?["1"]:getUrlParam("force").split(",")};for(r=0;d>r;r++){if(i={url:GetJsonUrl(n.id[r]),type:handleParam(n.type,r,"line"),smooth:"1"===handleParam(n.smooth,r,"1"),blind:"0"!==getUrlParam("blind")&&null!==getUrlParam("blind"),toolbox:!0,markLine:"1"===handleParam(n.markLine,r,"0"),markPoint:"1"===handleParam(n.markPoint,r,"0"),barMaxWidth:"1"===handleParam(n.barMaxWidth,r,"0"),splitArea:"1"===handleParam(n.splitArea,r,"0"),dataZoom:handleParam(n.dataZoom,r,"0"),minMax:"1"===handleParam(n.minMax,r,"0"),lineAreaStyle:"1"===handleParam(n.lineAreaStyle,r,"0"),reverse:"1"===handleParam(n.reverse,r,"0"),circle:"1"===handleParam(n.circle,r,"1"),roseType:handleParam(n.roseType,r,"0"),dimension:Number.parseInt(handleParam(n.dimension,r,"1"),10)-1,squareRatio:Number.parseFloat(handleParam(n.squareRatio,r,"1.618")),shape:handleParam(n.shape,r,"polygon"),scatterSize:Number.parseFloat(handleParam(n.scatterSize,r,"20")),force:handleParam(n.force,r,"1")},"sankey"==i.type){var o=$("#eChart-main"+r),c=$(".portlet-body.form").width(),p=c/1.5;o.css("height",p)}"undefined"!=typeof e.valueAxis?e.valueAxis.splitArea.show=!!i.splitArea[r]:e.color=["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],i.color=e.color,t=m.getOption(i),console.log("option = "+JSON.stringify(t)),t!==!1?(h[r]=s.init(document.getElementById("eChart-main"+r),e),h[r].setOption(t)):bsTips("第"+(r+1)+"张图表无数据，请重新选择查询时间",2)}i.blind&&l()}}function t(){if($(".actions select opotion").length)return!1;var e,a=$(".actions select"),r="",t=["default","real2","real","powerBI","darkColor","whiteDark","magzin","magzin2","colorful","macarons","helianthus","infographic","shine","dark","blue","green","red","gray","roma","macarons2","sakura"];t.map(function(e,a){r+='<option name="'+e+'">'+e+"</option>"}),a.html(r),"undefined"==typeof localStorage.eChartsTheme?(e="real2",localStorage.setItem("eChartsTheme","real2")):e=localStorage.eChartsTheme,a.find('[name="'+e+'"]').attr("selected",!0),$(".bs-select").selectpicker({iconBase:"fa",tickIcon:"fa-check"}),$("select.bs-select").hide()}function l(){for(var e=[],a=0;d>a;a++)e.push(h[a]);s.connect(e)}function n(e){localStorage.setItem("eChartsTheme",e),bsTips("主题更换成功，请刷新页面查看",1)}function o(){var e=$(".actions select");e&&$(e).change(function(){n($(this).val())})}var s,m,c,h=[],d=null===getUrlParam("tid")?0:getUrlParam("tid").split(",").length;return $(document).on("click",".ranges li:not(:last),button.applyBtn",function(){var e;e=$(".actions select"),require(["theme/"+e.val()],function(e){c=e,setTimeout(r(c),500)})}),$("#Preview a").on("click",function(){var e=$("#Preview input").val(),a=$(".actions select");require(["theme/"+a.val()],function(a){c=a,setTimeout(r(c,e+"&chartType=line"),500)})}),{init:function(){t(),e(),o()},resize:function(){var e=$(".portlet-body.form"),a=$(".eCharts-main"),r=e.width(),t=r/(1===a.length?2:2.5);for(a.css("width",r).css("height",t),i=0;i<d;i++)h[i].resize()}}}();jQuery(document).ready(function(){initDashboardDaterange("YYYYMMDD"),initDom(),mECharts.init(),1==App.getURLParameter("debug")||null===App.getURLParameter("tid")?$("#Preview").show():$("#Preview").hide(),hideSidebarTool()}),jQuery(window).resize(function(){HeadFix(),mECharts.resize()});
>>>>>>> 3d7e5ece247f15c0562572daab551c9982678122
//# sourceMappingURL=QualityChart.min.js.map