var hours = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31];
var days = ['星期一', '星期二', '星期三',
        '星期四', '星期五', '星期六', '星期日'];

var data = [[10,2,87.32],
[10,4,86.69],
[12,3,83.61],
[06,4,87.53],
[30,5,84.93],
[09,4,84.74],
[09,2,85.91],
[12,5,83.93],
[13,1,85.41],
[26,2,86.64],
[29,4,84.78],
[31,1,87.41],
[29,1,86.86],
[23,3,87.16],
[06,2,85.18],
[30,3,83.04],
[20,2,87.07],
[28,3,85.45],
[28,5,87.63],
[09,1,85.75],
[01,2,86.76],
[03,5,82.9],
[03,3,87.8],
[27,4,87.36],
[15,6,90.04],
[27,2,85.62],
[30,6,82.71],
[08,3,84.75],
[29,2,83.56],
[23,5,86.55],
[26,4,87.02],
[20,4,86.84],
[07,2,85.3],
[20,1,86.77],
[21,2,86.5],
[18,1,82.13],
[28,7,87.46],
[22,3,88.32],
[12,1,88.49],
[01,1,84.5],
[31,5,82.66],
[07,1,82.95],
[25,2,86.44],
[15,3,85.58],
[15,5,83.61],
[26,1,84.13],
[25,4,89.74],
[17,6,85.35],
[24,1,85.99],
[13,4,85.82],
[29,5,87.36],
[21,1,86.85],
[04,4,84.82],
[20,3,86.08],
[11,3,86.09],
[21,4,85.22],
[18,2,85.43],
[05,4,85.65],
[24,4,87.44],
[05,1,84.93],
[14,3,84.92],
[17,5,84.1],
[16,6,54.82],
[24,2,85.96],
[09,3,86.08],
[09,5,85.74],
[12,2,83.7],
[17,3,87.59],
[12,4,85.92],
[04,2,88.5],
[16,3,86.31],
[13,2,87],
[27,1,85.95],
[18,4,88.03],
[20,5,87.61],
[06,1,80.98],
[20,6,77],
[11,5,87.09],
[06,5,85.01],
[11,6,87.58],
[29,3,84.22],
[14,5,86.76],
[24,5,85.43],
[24,3,90.14],
[22,2,87.14],
[04,6,86.28],
[22,4,85.68],
[01,3,82.8],
[03,4,86.08],
[07,3,85.82],
[27,5,87],
[27,3,86.01],
[15,1,85.75],
[03,2,87.04],
[26,3,86.57],
[08,4,85.69],
[19,3,86.43],
[16,1,87.33],
[16,5,87.57],
[24,6,83.61],
[02,2,85.65],
[23,2,89.98],
[04,5,84.6],
[14,2,84.49],
[05,5,83.77],
[07,5,83.82],
[21,5,86.52],
[22,1,89.95],
[28,4,88.46],
[15,2,87.79],
[05,3,86.46],
[14,1,85.42],
[30,2,84.81],
[15,4,88.89],
[10,5,86.73],
[02,1,85.16],
[17,1,85.72],
[25,5,86.02],
[19,5,86.08],
[08,2,85.26],
[02,4,83.9],
[25,1,84.87],
[26,5,89.21],
[04,7,87.59],
[21,3,84.67],
[28,2,84.64],
[11,1,78.71],
[14,4,81.51],
[04,3,87.08],
[10,3,87.07],
[17,2,85.85],
[11,2,85.59],
[17,4,86.4],
[11,4,85.03],
[25,6,86.35],
[08,1,83.9],
[13,5,86.71],
[19,2,82.39],
[25,3,86.89],
[18,3,86.24],
[10,1,83.86],
[16,4,86.98],
[28,1,83.63],
[30,4,84.43],
[31,2,84.59],
[13,6,81.68],
[22,5,88.02],
[03,1,87.57],
[02,3,86.45],
[19,1,86.72],
[19,4,86.77],
[13,3,82.82],
[23,4,88.65],
[16,2,87.74],
[18,5,86.48],
[18,6,88.33],
[23,1,84.47],
[30,1,87.49]]

min = data.map(function(item){
   return item[2];
});
min.sort();
data = data.map(function (item) {
    return [item[0]-1, item[1]-1, item[2] || '-'];
});

option = {
    backgroundColor:'#445',
    title: {
        text: '机检好品率分布情况',
        subtext: '2014 码后核查系统',
        sublink: 'http://localhost',
        x:'center',
        textStyle: {
            color: '#fff'
        }
    },
    tooltip: {
        position: 'top'
    },
    animation: false,
    grid: {
        height: '99%',
        y:0,
        x:0,
        x2:0,
        containLabel:true
    },
    xAxis: {
        type: 'category',
        data: hours,
        splitLine:{show:false},
        axisLabel: {
            textStyle: {
                color: '#fee'
            }
        },
        axisLine:{show:false},
    },
    yAxis: {
        type: 'category',
        data: days,
        splitLine:{lineStyle:{color:'#777'}},
        axisTick:{show:false},
        axisLine:{show:false},
        axisLabel: {
            textStyle: {
                color: '#fee'
            }
        }
    },
    dataRange: {
        min: min[2],
        max: min[min.length-1],
        calculable: true,
        //orient: 'horizontal',
        x: 'right',
        y: 4,
        color: ['#f34','#ccc'],
        textStyle: {
            color: '#fff'
        },
    },
    series: [{
        name: '好品率',
        type: 'heatmap',
        data: data,
        label: {
            normal: {
                show: false
            }
        },
        itemStyle: {
            emphasis: {
                shadowBlur: 10,
                shadowColor: 'rgba(0, 0, 0, 0.5)'
            }
        }
    }]
};