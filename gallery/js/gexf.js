!function(e,t){"function"==typeof define&&define.amd?define(["exports","echarts"],t):"object"==typeof exports&&"string"!=typeof exports.nodeName?t(exports,require("echarts")):t({},e.echarts)}(this,function(e,t){"use strict";function r(e){var t;if("string"==typeof e){var r=new DOMParser;t=r.parseFromString(e,"text/xml")}else t=e;if(!t||t.getElementsByTagName("parsererror").length)return null;var i=s(t,"gexf");if(!i)return null;for(var l=s(i,"graph"),u=a(s(l,"attributes")),f={},c=0;c<u.length;c++)f[u[c].id]=u[c];return{nodes:n(s(l,"nodes"),f),links:o(s(l,"edges"))}}function a(e){return e?u.map(l(e,"attribute"),function(e){return{id:i(e,"id"),title:i(e,"title"),type:i(e,"type")}}):[]}function n(e,t){return e?u.map(l(e,"node"),function(e){var r=i(e,"id"),a=i(e,"label"),n={id:r,name:a,label:{normal:{formatter:a}},itemStyle:{normal:{}}},o=s(e,"viz:size"),u=s(e,"viz:position"),f=s(e,"viz:color"),c=s(e,"attvalues");if(o&&(n.symbolSize=parseFloat(i(o,"value"))),u&&(n.x=parseFloat(i(u,"x")),n.y=parseFloat(i(u,"y"))),f&&(n.itemStyle.normal.color="rgb("+[0|i(f,"r"),0|i(f,"g"),0|i(f,"b")].join(",")+")"),c){var p=l(c,"attvalue");n.attributes={};for(var g=0;g<p.length;g++){var d=p[g],m=i(d,"for"),v=i(d,"value"),b=t[m];if(b){switch(b.type){case"integer":case"long":v=parseInt(v,10);break;case"float":case"double":v=parseFloat(v);break;case"boolean":v="true"==v.toLowerCase()}n.attributes[m]=v}}}return n}):[]}function o(e){return e?u.map(l(e,"edge"),function(e){var t=i(e,"id"),r=i(e,"label"),a=i(e,"source"),n=i(e,"target"),o={id:t,name:r,source:a,target:n,lineStyle:{normal:{}}},l=o.lineStyle.normal,u=s(e,"viz:thickness"),f=s(e,"viz:color");return u&&(l.width=parseFloat(u.getAttribute("value"))),f&&(l.color="rgb("+[0|i(f,"r"),0|i(f,"g"),0|i(f,"b")].join(",")+")"),o}):[]}function i(e,t){return e.getAttribute(t)}function s(e,t){for(var r=e.firstChild;r;){if(1==r.nodeType&&r.nodeName.toLowerCase()==t.toLowerCase())return r;r=r.nextSibling}return null}function l(e,t){for(var r=e.firstChild,a=[];r;)r.nodeName.toLowerCase()==t.toLowerCase()&&a.push(r),r=r.nextSibling;return a}var u=t.util;t.parser=t.parser||{},t.parser.gexf={parse:r},e.parse=r});