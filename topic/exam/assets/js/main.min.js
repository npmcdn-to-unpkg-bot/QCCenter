require.config({baseUrl:"assets/js",paths:{jquery:"jquery.min","jquery-weui":"jquery-weui","jquery.fullPage":"jquery.fullPage.min"},shim:{"jquery.fullPage":{deps:["jquery"]},"jquery-weui":{deps:["jquery"]}}});var exam={total:0,error:[],answerList:[],isAnswered:[],timeReleased:!1,isStarted:!1,timeLength:6e4,sourceList:[]},lastPage;require(["jquery","jquery.fullPage","jquery-weui"],function(e){function a(e,a){var t="",s='<div class="section">';return s+='<h1 class="title">第<span>'+a+"</span>题</h1>",s+='<div class="weui_cells_title">'+e.title+"</div>",s+='<div class="weui_cells '+(a%2?"":"weui_cells_dark")+' weui_cells_checkbox" data-id='+(a-1)+" data-answer="+e.answer+">",e.question.map(function(e,s){t+='    <label class="weui_cell weui_check_label">',t+='<div class="weui_cell_hd">',t+='    <input type="radio" class="weui_check" name="radio'+(a-1)+'">',t+='    <i class="weui_icon_checked"></i>',t+="</div>",t+='<div class="weui_cell_bd weui_cell_primary" data-value='+s+">",t+="    <p>"+e+"</p>",t+="</div></label>"}),s+=t+"</div>\n</div>"}function t(){return Math.random()>.5?-1:1}function s(e){for(var a=[],s=0;e>s;s++)a.push(s);return a.sort(t)}var i=[];e.getJSON("./assets/data/data.json",function(t){var n=t.length;e('[name="nums"]').text(n),exam.sourceList=s(n),console.log(exam.sourceList);for(var r=0;n>r;r++)e('[name="form"]').before(a(t[exam.sourceList[r]],r+1)),exam.isAnswered[r]=0;lastPage=t.length+2;for(var r=0;lastPage>r;r++)i[r]=r%2?"#fff":"#f3f3ff"}).done(function(){n()});{var n=function(){function a(){e.alert("答题时间到，系统将不再记录此后的得分，请提交当前成绩！","时间到！",function(){e.fn.fullpage.moveTo(lastPage)})}function t(a){var t=a-1;!exam.timeReleased&&t>0&&lastPage-1>t&&!exam.isAnswered[t-1]&&(e.alert("第"+t+"题您还没有作答！","警告！"),t==lastPage-2?e(".iSlider-arrow").css("display","none"):e(".iSlider-arrow").css("display",""))}e(".weui_check_label").on("click",function(){if(exam.timeReleased)a();else{var t=e(this).parents(".weui_cells"),s=e(this).find(".weui_cell_primary"),i=s.data("value")+1==t.data("answer")?1:0;exam.answerList[t.data("id")]=i,exam.isAnswered[t.data("id")]=1}}),e("#fullpage").fullpage({sectionsColor:i,onLeave:function(s){1!=s||exam.timeReleased||(exam.isStarted=!0,setTimeout(function(){exam.timeReleased=!0,a()},exam.timeLength),setTimeout(function(){e.toast("考试时间仅剩三分之一")},.67*exam.timeLength)),t(s)},afterLoad:function(e){t(e)}}),e('[name="form"] .weui_btn').on("click",function(){exam.error=[],exam.total=0,exam.answerList.map(function(e,a){exam.total+=e,e||exam.error.push(exam.sourceList[a])});var a={userName:e('[name="userName"]').val(),userCard:e('[name="userCard"]').val(),totalScore:exam.total,error:exam.error};console.log(a)})};!function(){var e=document.getElementById("autoplay"),a=document.getElementById("musicBtn"),t=document.getElementById("musicBtnTxt");document.getElementById("musicBtn").addEventListener("touchstart",function(){t.style.display="",e.paused?(e.play(),a.className="music-btn on",t.innerHTML="开始"):(e.pause(),a.className="music-btn",t.innerHTML="关闭"),setTimeout(function(){t.style.display="none"},1e3)},!1)}()}});
//# sourceMappingURL=main.min.js.map