var bubbleOption=function(){var e=[1,2,3,4,5,6,7,8,9,10,11,12],t=["星期一","星期二","星期三","星期四","星期五","星期六","星期日"],a=[[3,6,90.04],[8,5,86.53],[8,3,85.07],[7,4,85.16],[7,2,85.93],[8,6,81.32],[3,3,86.41],[2,4,87.03],[10,5,86.58],[12,2,85.24],[5,1,86.31],[1,3,81.94],[7,1,84.79],[10,3,86.88],[3,5,86.14],[1,6,86.82],[12,4,84.5],[2,2,86.86],[12,1,83.41],[4,4,86.48],[5,5,86.38],[4,2,86.4],[12,3,88.37],[2,1,85.34],[5,6,84.08],[9,2,87.42],[11,4,85.49],[5,7,87.59],[7,5,84.67],[11,2,84.69],[10,6,87.18],[9,1,87.14],[9,4,86.91],[12,5,83.03],[5,3,86.08],[1,4,86.85],[11,1,84.16],[9,7,87.46],[1,2,82.68],[9,3,87.9],[2,5,86.52],[6,2,86.96],[8,2,84.37],[4,1,85.66],[7,3,84.65],[4,5,86.57],[8,4,85.19],[6,4,86.23],[6,1,86.01],[2,3,86.2],[9,6,80.01],[9,5,85.79],[8,1,82.54],[11,3,84.56],[11,5,86.19],[3,2,86.77],[6,3,86.87],[10,4,86.59],[1,1,82.96],[4,3,86.69],[5,2,87.04],[5,4,85.81],[1,5,82.81],[10,1,86.31],[3,1,86.71],[10,2,86.57],[3,4,87.08],[6,5,86.46]];return min=a.map(function(e){return e[2]}),min.sort(),a=a.map(function(e){return[e[0]-1,e[1]-1,e[2]||"-"]}),option={backgroundColor:"#445",title:{text:"机检好品率分布情况",subtext:"2014 码后核查系统",sublink:"http://localhost",x:"center",textStyle:{color:"#fff"}},tooltip:{position:"top"},animation:!1,grid:{height:"90%",y:20,x:20,x2:20,containLabel:!0},xAxis:{type:"category",data:e,splitLine:{show:!1},axisLabel:{textStyle:{color:"#fee"}},axisLine:{show:!1}},yAxis:{type:"category",data:t,splitLine:{lineStyle:{color:"#777"}},axisTick:{show:!1},axisLine:{show:!1},axisLabel:{textStyle:{color:"#fee"}}},dataRange:{min:80,max:90,calculable:!0,x:"right",y:4,color:["#e23","#23e"],textStyle:{color:"#fff"},splitNumber:5},series:[{name:"好品率",type:"scatter",data:a,symbolSize:function(e){return 6*(e[2]-min[0]+1)}}]},option}(),gb={chart:null,chart2:null,chart3:null,chart4:null,chart5:null,chart6:null,PM25:null,AQI:null,PM10:null,CO:null,NO2:null,O3:null,SO2:null,rec_time:null},geoCoordMap={"锦江区":[104.080989,30.657689],"青羊区":[104.055731,30.667648],"金牛区":[104.043487,30.692058],"武侯区":[104.05167,30.630862],"成华区":[104.103077,30.660275],"龙泉驿区":[104.269181,30.56065],"青白江区":[104.25494,30.883438],"新都区":[104.16022,30.824223],"双流县":[103.922706,30.573243],"郫县":[103.887842,30.808752],"大邑县":[103.522397,30.586602],"温江区":[103.836776,30.697996],"蒲江县":[103.511541,30.194359],"金堂县":[104.415604,30.858417],"新津县":[103.812449,30.414284],"都江堰市":[103.627898,30.99114],"邛崃市":[103.46143,30.413271],"崇州市":[103.671049,30.631478],"彭州市":[103.941173,30.985161]},convertData=function(e){for(var t=[],a=0;a<e.length;a++){var o=geoCoordMap[e[a].name];o&&t.push(o.concat(e[a].value))}return t},convertScatterData=function(e){for(var t=[],a=0;a<e.length;a++){var o=geoCoordMap[e[a].name];o&&t.push({name:e[a].name,value:o.concat(e[a].value)})}return t},handleAQIData=function(){function e(e){gb.PM25=[],gb.AQI=[],gb.PM10=[],gb.CO=[],gb.NO2=[],gb.O3=[],gb.SO2=[];for(var t=e.Head,o=0,n=0,r=0;n<t.length-1;n++){o=0;for(var l=0;r>l;l++)if(gb.AQI[l].name==t[n].PointArea){o=1;break}o?n++:(gb.PM25[r]={},gb.AQI[r]={},gb.PM10[r]={},gb.CO[r]={},gb.NO2[r]={},gb.O3[r]={},gb.SO2[r]={},gb.PM25[r].name=t[n].PointArea,gb.AQI[r].name=t[n].PointArea,gb.PM10[r].name=t[n].PointArea,gb.CO[r].name=t[n].PointArea,gb.NO2[r].name=t[n].PointArea,gb.O3[r].name=t[n].PointArea,gb.SO2[r].name=t[n].PointArea,""===t[r].PM25_1H&&(t[r].PM25_1H="-"),""===t[r].SO2_1H&&(t[r].SO2_1H="-"),""===t[r].NO2_1H&&(t[r].NO2_1H="-"),""===t[r].PM10_1H&&(t[r].PM10_1H="-"),""===t[r].CO_1H&&(t[r].CO_1H="-"),""===t[r].O3_1H&&(t[r].O3_1H="-"),""===t[r].AQI_1H&&(t[r].AQI_1H="-"),gb.PM25[r].value=parseFloat(t[n].PM25_1H,10),gb.AQI[r].value=parseFloat(t[n].AQI_1H,10),gb.PM10[r].value=parseFloat(t[n].PM10_1H,10),gb.CO[r].value=10*parseFloat(t[n].CO_1H,10),gb.NO2[r].value=parseFloat(t[n].NO2_1H,10),gb.O3[r].value=parseFloat(t[n].O3_1H,10),gb.SO2[r].value=parseFloat(t[n].SO2_1H,10),r++)}gb.rec_time=t[0].Rec_Time,a()}function t(){var t=(new Date).getTime();$.ajax({url:"assets/aqi.php?t="+t,type:"get",dataType:"json",async:!0,success:function(t){e(t)},error:function(){var t="assets/data/ChengDuWeather.json";$.get(t,function(t){e(t)})}})}function a(){gb.chart6=echarts.init(document.getElementById("mainMap")),$.get("assets/data/chengdu.json",function(e){echarts.registerMap("CD",e),gb.chart6.setOption(option={title:{text:"成都市环境空气质量",subtext:"数据来源: 成都市环境保护局\n更新时间:"+gb.rec_time.substring(0,16),sublink:"http://www.cdepb.gov.cn",textStyle:{color:"#445",fontSize:30},subtextStyle:{color:"#445",fontSize:15,bold:!0},x:"center"},tooltip:{trigger:"item",formatter:"{b}<br/>{c}"},legend:{x:"left",data:["AQI","PM2.5","PM10"],textStyle:{color:"#445"},orient:"vertical",selectedMode:"single",selected:{AQI:!1,PM10:!1,"PM2.5":!0}},toolbox:{show:!0,orient:"vertical",x:"right",y:"center",feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},dataRange:{min:50,max:300,text:["严重污染","优"],realtime:!0,calculable:!0,color:["#e23","lightskyblue"],textStyle:{color:"#445"},x:"right",y:50},series:[{name:"AQI",type:"map",mapType:"CD",itemStyle:{normal:{label:{show:!0}},emphasis:{label:{show:!0}}},data:gb.AQI,nameMap:{"都江堰市":"都江堰"}},{name:"PM2.5",type:"map",mapType:"CD",itemStyle:{normal:{label:{show:!0}},emphasis:{label:{show:!0}}},data:gb.PM25,nameMap:{"都江堰市":"都江堰"}},{name:"PM10",type:"map",mapType:"CD",itemStyle:{normal:{label:{show:!0}},emphasis:{label:{show:!0}}},data:gb.PM10,nameMap:{"都江堰市":"都江堰"}}]})})}function o(){gb.chart=echarts.init(document.getElementById("main")),gb.chart.setOption(bubbleOption),gb.chart2=echarts.init(document.getElementById("main2")),gb.chart2.setOption(n),gb.chart3=echarts.init(document.getElementById("main3")),gb.chart3.setOption(r),gb.chart4=echarts.init(document.getElementById("main4")),gb.chart4.setOption(l)}var n=function(){function e(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function t(t){return["第 "+t.name+"组: ","上边缘: "+e(t.data[4],2),"Q3: "+e(t.data[3],2),"中位数: "+e(t.data[2],2),"Q1: "+e(t.data[1],2),"下边缘: "+e(t.data[0],2)].join("<br/>")}data=[];for(var a=0;4>a;a++){for(var o=[],n=0;20>n;n++){for(var r=[],l=0;100>l;l++)r.push(50*Math.random()+50);o.push(r)}data.push(echarts.dataTool.prepareBoxplotData(o))}return option={title:{text:"箱形图",x:"center"},legend:{y:"10%",data:["系列1","系列2","系列3","系列4"]},tooltip:{trigger:"item",axisPointer:{type:"shadow"}},grid:{x:"10%",y:"20%",x2:"10%",y2:"15%"},xAxis:{type:"category",data:data[0].axisData,boundaryGap:!0,nameGap:30,splitArea:{show:!0},axisLabel:{formatter:"expr {value}"},splitLine:{show:!1}},yAxis:{type:"value",name:"Value",min:0,max:150,splitArea:{show:!1}},dataZoom:[{type:"inside",start:0,end:20},{show:!0,height:20,type:"slider",y:"90%",xAxisIndex:[0],start:0,end:20}],series:[{name:"系列1",type:"boxplot",data:data[0].boxData,tooltip:{formatter:t}},{name:"系列2",type:"boxplot",data:data[1].boxData,tooltip:{formatter:t}},{name:"系列3",type:"boxplot",data:data[2].boxData,tooltip:{formatter:t}},{name:"系列4",type:"boxplot",data:data[3].boxData,tooltip:{formatter:t}}]},option}(),r={color:["rgba(255, 69, 0, 0.75)","rgba(255, 150, 0, 0.75)","rgba(255, 200, 0, 0.75)","rgba(155, 200, 50, 0.75)","rgba(55, 200, 100, 0.75)"],title:{text:"数据统计应用的现状",x:"center",y:"bottom",textStyle:{fontSize:40}},tooltip:{show:!0,trigger:"item",formatter:function(e){var t;switch(e.dataIndex){case 0:t="在公司信息资源规划项目里生产数据中心的建设中，</br>通过将现有系统数据按一定标准进行整合存储，</br>为海量数据的联合分析提供了可能";break;case 1:t="各部门根据业务需求开发系统实现数据采集并通过数据库技术</br>实现业务报表生成。由于各系统相对独立，数据分析受采集量</br>的限制，公司数据统计分析也多在这个层次进行";break;case 2:t="手工将原始数据汇总至Excel中并手工汇总数据。</br>效率低下且无法快速检索，也是目前通用的一种方式。";break;case 3:t="手工填写纸质记录并手工汇总数据。</br>信息只能翻查原始记录本查看，</br>有部分工序仍采用这种方式。"}return t}},toolbox:{show:!0,feature:{restore:{show:!0},saveAsImage:{show:!0}}},calculable:!0,series:[{type:"funnel",x:"10%",width:"80%",sort:"ascending",itemStyle:{normal:{borderColor:"#fff",borderWidth:2,label:{formatter:"{b}",textStyle:{fontSize:"24",fontWeight:"bold"}}},emphasis:{label:{formatter:"{b}",position:"inside",textStyle:{color:"#fff",fontSize:"24",fontWeight:"bold"}},labelLine:{show:!1}}},data:[{value:25,name:"4.数据中心",itemStyle:{emphasis:{label:{show:!1}}}},{value:50,name:"3.数据库记录",itemStyle:{normal:{label:{position:"inside",textStyle:{color:"#fff"}}}}},{value:75,name:"2.Excel记录",itemStyle:{normal:{label:{position:"inside",textStyle:{color:"#fff"}}}}},{value:100,name:"1.纸质记录",itemStyle:{normal:{label:{position:"inside",textStyle:{color:"#fff"}}}}}]}]},l={color:["rgba(255, 69, 0, 0.75)","rgba(255, 150, 0, 0.75)","rgba(255, 200, 0, 0.75)","rgba(155, 200, 50, 0.75)","rgba(55, 200, 100, 0.75)"],title:{text:"数据采集应用的分层模型",x:"center",y:"bottom",textStyle:{fontSize:40}},tooltip:{show:!0,trigger:"item",formatter:function(e){var t;switch(e.dataIndex){case 0:t="应用层：开发与用户直接交互的前台功能";break;case 1:t="商业智能：对数据做针对性分析，并建立中间表格";break;case 2:t="数据挖掘：对数据梳理、清洗、转换";break;case 3:t="数据仓库：将原始数据统一存储";break;case 4:t="数据库:本地原始数据库数据"}return t}},toolbox:{show:!0,feature:{restore:{show:!0},saveAsImage:{show:!0}}},calculable:!0,series:[{type:"funnel",x:"10%",width:"80%",sort:"ascending",itemStyle:{normal:{borderColor:"#fff",borderWidth:2,label:{formatter:"{b}",textStyle:{fontSize:"24",fontWeight:"bold"}}},emphasis:{label:{formatter:"{b}",position:"inside",textStyle:{color:"#fff",fontSize:"24",fontWeight:"bold"}},labelLine:{show:!1}}},data:[{value:20,name:"前端应用层\n(直接面向用户)",itemStyle:{emphasis:{label:{show:!1}}}},{value:40,name:"BI(Business\nIntelligence)",itemStyle:{emphasis:{label:{show:!1}}}},{value:60,name:"DM(Data Mining)",itemStyle:{normal:{label:{position:"inside",textStyle:{color:"#fff"}}}}},{value:80,name:"DW(Data Warehouse)",itemStyle:{normal:{label:{position:"inside",textStyle:{color:"#fff"}}}}},{value:100,name:"DB(Database)",itemStyle:{normal:{label:{position:"inside",textStyle:{color:"#fff"}}}}}]}]};return{init:function(){o(),t()}}}(),globalFunc=function(){function e(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,o=e.getDate();return t+"年"+a+"月"+o+"日"}return{today:function(){return e()}}}();$(window).resize(function(){gb.chart.resize(),gb.chart2.resize(),gb.chart3.resize(),gb.chart4.resize(),gb.chart5.resize(),gb.chart6.resize()}),$(document).ready(function(){for(var e=[],t=0;t<$(".section").length;e[t++]=t%2?"#fff":"#e6e7e8");$("#fullpage").fullpage({verticalCentered:!1,css3:!0,sectionsColor:e,navigation:!0,navigationPosition:"right",anchors:["firstPage","firstPage","firstPage","secondPage","secondPage","secondPage","secondPage","secondPage","secondPage","secondPage","secondPage","secondPage","3rdPage","3rdPage","3rdPage","3rdPage","3rdPage","3rdPage","3rdPage","3rdPage","3rdPage","3rdPage","3rdPage","4thPage","4thPage","4thPage","4thPage","4thPage","4thPage","4thPage","4thPage","4thPage","lastPage"],menu:".menu",loopTop:!0,loopBottom:!0}),handleAQIData.init(),$("#today").text(globalFunc.today)});
//# sourceMappingURL=chengdu.min.js.map